use html;

store {
    let todos = ["One", "Two"];
    let entry = "";

    todos {
        action add => value + entry;
    }
}

component todo_text_input (todo) {
    p {}
}

component todo_item (todo) {
    li (class="completed") {
        div (class="view") {
            input(class="toggle", type="checkbox", checked=todo_completed) {}
            label { (todo) }
            button(class="destroy") {}
        }
     }
}

component new_todo (entry) {
    input(class="new-todo", placeholder="What needs to be done?", autofocus="autofocus") bind entry
        enterkey || { dispatch add(entry: entry); } {}
}

link(rel="stylesheet", href="./node_modules/todomvc-common/base.css", type="text/css") {}
link(rel="stylesheet", href="./node_modules/todomvc-app-css/index.css", type="text/css") {}

section(class="todoapp") {
    header(class="header") {
        h1() { ("todos") }
        new_todo(get entry) {}
    }

    section(class="main") {
        input(class="toggle-all", id="toggle-all", type="checkbox") {}
        label(class="", for="toggle-all") { ("Mark all as complete") }
        ul(id="todo-list", class="todo-list") {
            todo_item (for todo in todos) {}
        }
    }
}